<div class="mx-auto px-4 pb-4 pt-8 sm:px-8 lg:container">
  <!-- Header -->
  <div class="mb-8 flex justify-between">
    <div class="inline-block">
      <h3 class="text-heading">Reports</h3>
      <div class="text-subheading">
        <p>Generate the needed reports here.</p>
      </div>
    </div>
  </div>
  <!-- end Header -->

  <div class="grid grid-cols-1 rounded-t-lg border-light-dark bg-white p-5 dark:bg-night-700">
    <div class="inline-block">
      <h3 class="text-lg font-medium text-gray-900 dark:text-white mr-3">Create Report</h3>
      <div class="space-x-1 text-sm font-medium text-gray-400 dark:text-night-300">
        <p>
          Set the filter and create a report.
        </p>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 border-x border-b border-gray-300 dark:border-night-500 bg-white p-5 dark:bg-night-700">
    <form *ngIf="generateReportForm" [formGroup]="generateReportForm"
          class="flex justify-start gap-3 md:flex-row flex-col">

      <div class="flex items-center justify-start space-x-3">
        <select formControlName="type" name="report" id="report"
                class="peer font-medium border-light-dark block w-64 py-2 px-4 text-sm dark:bg-night-700 dark:text-night-200">
          <option value="attendance">
            Attendance Report
          </option>
          <option value="room-keys">
            Keys Log Report
          </option>
        </select>
        <!-- <button type="button"
                class="flex items-center justify-center rounded-md button-plain">
                <span class="material-symbols-rounded h-6 w-6 mr-2">
                    filter_list
                </span>
                Filters
            </button> -->

        <select formControlName="time" class="w-44 text-sm py-2">
          <option value="today">Today</option>
          <option value="this-week">This week</option>
          <option value="this-month">This month</option>
          <option value="this-year">This year</option>
          <option value="school-year">This school year</option>
        </select>
      </div>

      <div
           class="flex items-center justify-start space-x-3">
        <button type="button" (click)="onSubmit('preview')"
                class="relative selection:flex justify-center button-plain">
          Preview
        </button>
        <button type="button" (click)="onSubmit('generate')"
                class="relative selection:flex justify-center button-plain">
          Generate CSV
        </button>
        <button type="button" [routerLink]="['/pdf']"
                class="my-auto flex-none button-size"
                [ngClass]="'bg-' + systemService.color + '-700 hover:bg-' + systemService.color + '-600 border-' + systemService.color + '-700'">
          Generate PDF
        </button>
      </div>
    </form>
  </div>

  <div *ngIf="report && report.data.length > 0"
       class="grid grid-cols-1 border-x border-b border-gray-300 dark:border-night-500 bg-white p-5 dark:bg-night-700">
    <div class="inline-block">
      <h3 class="text-lg font-medium text-gray-900 dark:text-white mr-3">Preview Report</h3>
      <div class="space-x-1 text-sm font-medium text-gray-400 dark:text-night-300">
        <p>
          Preview your reports.
        </p>
      </div>
    </div>
  </div>

  <div *ngIf="report && report.data.length > 0"
       class="grid grid-cols-1 border-x border-b rounded-b-lg border-gray-300 dark:border-night-500 bg-white p-5 dark:bg-night-700">
    <reports-table [report]="report.data" [type]="report.type"></reports-table>
  </div>

  <div *ngIf="false" class="grid grid-cols-1 rounded-b-lg border-light-dark bg-white p-5 dark:bg-night-700">
    <div class="flex items-center justify-between space-x-3">
      <button type="button"
              class="flex items-center justify-center rounded-md button-plain">
        <span class="material-symbols-rounded h-6 w-6 md:mr-2 mr-0">
          arrow_back
        </span>
        <span class="md:inline-block hidden">
          Previous
        </span>
      </button>

      <div class="flex gap-1">
        <div
             class="cursor-pointer relative justify-center rounded-md py-2 px-4 text-sm font-medium dark:text-primary-300 text-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-700 focus:ring-offset-2 bg-primary-300/25">
          1
        </div>
        <div
             class="cursor-pointer relative justify-center rounded-md py-2 px-4 text-sm font-medium text-gray-500 hover:bg-gray-100">
          2
        </div>
        <div
             class="cursor-pointer relative justify-center rounded-md py-2 px-4 text-sm font-medium text-gray-500 hover:bg-gray-100">
          3
        </div>
      </div>

      <button type="button"
              class="flex items-center justify-center rounded-md button-plain">
        <span class="md:inline-block hidden">
          Next
        </span>

        <span class="material-symbols-rounded h-6 w-6 md:ml-2 ml-0">
          arrow_forward
        </span>
      </button>

    </div>
  </div>
</div>
